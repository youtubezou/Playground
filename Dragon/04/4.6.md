## 4.6 Introduction to LR Parsing: Simple LR

### 4.6.1

> Describe all the viable prefixes for the following grammars:

> a) The grammar $$S~\rightarrow~0~S~1~|~0~1$$ of Exercise 4.2.2(a).

$$\begin{array}{lcl}
S &\rightarrow& 0~S' \\
S' &\rightarrow& S~1~|~1 \\
\end{array}$$

Viable prefixes: $$0+$$

> b) The grammar $$S~\rightarrow~S~S~+~|~S~S~*~|~a$$ of Exercise 4.2.1.

$$\begin{array}{lcl}
S &\rightarrow& a~S^{\prime\prime} \\
S^{\prime\prime} &\rightarrow& S~S^\prime~S^{\prime\prime}~|~\epsilon \\
S^\prime &\rightarrow& +~|~* \\
\end{array}$$

Viable prefixes: $$S*$$

> c) The grammar $$S~\rightarrow~S~(~S~)~|~\epsilon$$ of Exercise 4.2.2(c).

$$\begin{array}{lcl}
S &\rightarrow& (~S~)~S~S~|~\epsilon \\
\end{array}$$

Viable prefixes: $$(*$$

### 4.6.2

> Construct the SLR sets of items for the (augmented) grammar of Exercise 4.2.1. Compute the GOTO function for these sets of items. Show the parsing table for this grammar. Is the grammar SLR?

$$\begin{array}{lcl}
G &\rightarrow& S \\
S &\rightarrow& a~S^{\prime\prime} \\
S^{\prime\prime} &\rightarrow& S~S^\prime~S^{\prime\prime}~|~\epsilon \\
S^\prime &\rightarrow& +~|~* \\
\end{array}$$

![](./img/4.6.2.b.png)

| STATE | $$a$$ | $$+$$ | $$*$$ | $$\$$$ | $$S$$ | $$S'$$ | $$S^{\prime\prime}$$ |
|:-----:|:-----:|:-----:|:-----:|:------:|:------:|:------:|:------:|
| 0 | s2 |  |  |  | 1 |  |  |
| 1 |  |  |  | acc |  |  |  |
| 2 | s2 | r($$S^{\prime\prime} \rightarrow \epsilon$$) | r($$S^{\prime\prime} \rightarrow \epsilon$$) | r($$S^{\prime\prime} \rightarrow \epsilon$$) | 4 |  | 3 |
| 3 | s2 | r($$S \rightarrow aS^{\prime\prime}$$) | r($$S \rightarrow aS^{\prime\prime}$$) | r($$S \rightarrow aS^{\prime\prime}$$) |  |  |  |
| 4 |  | s6 | s7 |  |  | 5 |  |
| 5 | s2 | r($$S^{\prime\prime} \rightarrow \epsilon$$) | r($$S^{\prime\prime} \rightarrow \epsilon$$) | r($$S^{\prime\prime} \rightarrow \epsilon$$) | 4 |  | 8 |
| 6 | r($$S' \rightarrow +$$) | r($$S' \rightarrow +$$) | r($$S' \rightarrow +$$) | r($$S' \rightarrow +$$) |  |  |  |
| 7 | r($$S' \rightarrow *$$) | r($$S' \rightarrow *$$) | r($$S' \rightarrow *$$) | r($$S' \rightarrow *$$) |  |  |  |
| 8 |  | r($$S^{\prime\prime} \rightarrow SS^\prime S^{\prime\prime}$$) | r($$S^{\prime\prime} \rightarrow SS^\prime S^{\prime\prime}$$) | r($$S^{\prime\prime} \rightarrow SS^\prime S^{\prime\prime}$$) |  |  |  |

It is SLR.

### 4.6.3

> Show the actions of your parsing table from Exercise 4.6.2 on the input $$aa*a+$$.

| STACK | SYMBOLS | INPUT | ACTION |
|:------|:--------|------:|:-------|
| 0 |  | $$aa*a+\$$$ | shift |
| 0 2 | $$a$$ | $$a*a+\$$$ | shift |
| 0 2 2 | $$aa$$ | $$*a+\$$$ | reduce by $$S^{\prime\prime} \rightarrow \epsilon$$ |
| 0 2 2 3 | $$aaS^{\prime\prime}$$ | $$*a+\$$$ | reduce by $$S \rightarrow aS^{\prime\prime}$$ |
| 0 2 4 | $$aS$$ | $$*a+\$$$ | shift |
| 0 2 4 7 | $$aS*$$ | $$a+\$$$ | reduce by $$S' \rightarrow *$$ |
| 0 2 4 5 | $$aSS'$$ | $$a+\$$$ | shift |
| 0 2 4 5 2 | $$aSS'a$$ | $$+\$$$ | reduce by $$S^{\prime\prime} \rightarrow \epsilon$$ |
| 0 2 4 5 2 3 | $$aSS'aS^{\prime\prime}$$ | $$+\$$$ | reduce by $$S \rightarrow aS^{\prime\prime}$$ |
| 0 2 4 5 4 | $$aSS'S$$ | $$+\$$$ | shift |
| 0 2 4 5 4 6 | $$aSS'S+$$ | $$\$$$ | reduce by $$S' \rightarrow +$$ |
| 0 2 4 5 4 5 | $$aSS'SS'$$ | $$\$$$ | reduce by $$S^{\prime\prime} \rightarrow \epsilon$$ |
| 0 2 4 5 4 5 8 | $$aSS'SS'S^{\prime\prime}$$ | $$\$$$ | reduce by $$S^{\prime\prime} \rightarrow SS'S^{\prime\prime}$$ |
| 0 2 4 5 8 | $$aSS'S^{\prime\prime}$$ | $$\$$$ | reduce by $$S^{\prime\prime} \rightarrow SS'S^{\prime\prime}$$ |
| 0 2 3 | $$aS^{\prime\prime}$$ | $$\$$$ | reduce by $$S \rightarrow aS^{\prime\prime}$$ |
| 0 1 | $$S$$ | $$\$$$ | accept |

















