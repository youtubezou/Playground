## 8.10 Optimal Code Generation for Expressions

### 8.10.1

> Compute Ershov numbers for the following expressions:

> a) `a/(b+c)-d*(e+f)`.

```
                    +-----+
                    |  t5 | 3
                    +-+-+-+
                      | |
          +-----------+ +----------+
          |                        |
       +--v--+                  +--v--+
       |  t2 | 2                |  t4 | 2
       +-+-+-+                  +-+-+-+
         | |                      | |
     +---+ +---+              +---+ +---+
     |         |              |         |
  +--v--+   +--v--+        +--v--+   +--v--+
1 |  a  |   |  t1 | 2    1 |  d  |   |  t3 | 2
  +-----+   +-+-+-+        +-----+   +-+-+-+
              | |                      | |
          +---+ +---+              +---+ +---+
          |         |              |         |
       +--v--+   +--v--+        +--v--+   +--v--+
     1 |  b  |   |  c  | 1    1 |  e  |   |  f  | 1
       +-----+   +-----+        +-----+   +-----+
```

> b) `a+b*(c*(d+e))`.

```
       +-----+
       |  t4 | 2
       +-+-+-+
         | |
     +---+ +---+
     |         |
  +--v--+   +--v--+
1 |  a  |   |  t3 | 2
  +-----+   +-+-+-+
              | |
          +---+ +---+
          |         |
       +--v--+   +--v--+
     1 |  b  |   |  t3 | 2
       +-----+   +-+-+-+
                   | |
               +---+ +---+
               |         |
            +--v--+   +--v--+
          1 |  c  |   |  t1 | 2
            +-----+   +-+-+-+
                        | |
                    +---+ +---+
                    |         |
                 +--v--+   +--v--+
               1 |  d  |   |  e  | 1
                 +-----+   +-----+
```

> c) `(-a+*p)*((b-*q)/(-c+*r))`.
