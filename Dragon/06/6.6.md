## 6.6 Control Flow

### 6.6.1

> Add rules to the syntax-directed definition of Fig. 6.36 for the following control-flow constructs:

> a) A repeat-statement $$\mathbf{repeat}~S~\mathbf{while}~B$$.

$$S~\rightarrow~\mathbf{repeat}~S_1~\mathbf{while}~B$$

$$\begin{array}{lll}
begin &=& newlabel() \\
B.true &=& begin \\
B.false &=& S.next \\
S_1.next &=& newlabel() \\
S.code &=& label(begin)~||~S_1.code~||~\\
& & label(S_1.next)~||~B.code
\end{array}$$

> b) A for-loop $$\mathbf{for}~(S_1;~B;~S_2)~S_3$$.

$$S~\rightarrow~\mathbf{for}~(S_1;~B;~S_2)~S_3$$

$$\begin{array}{lll}
S_1.next &=& newlabel() \\
B.true &=& newlabel() \\
B.false &=& S.next \\
S_2.next &=& S_1.next \\
S_3.next &=& newlabel() \\
S.code &=& S_1.code~||~ \\
& & label(S_1.next)~||~B.code~||~\\
& & label(B.true)~||~S_3.code~||~\\
& & label(S_3.next)~||~S_2.code~||~\\
& & gen(\text{'goto'}~S_1.next)
\end{array}$$
