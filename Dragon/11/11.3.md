## 11.3 Iteration Spaces

### 11.3.1

> Convert each of the following loops to a form where the loop indexes are each incremented by 1:

> a) `for (i=10; i<50; i=i+7) X[i, i+1] = 0;`.

```
for (j = 0; j <= 5; j++)
    X[7*j+10, 7*j+11] = 0;
```

> b) `for (i= -3; i<=10; i=i+2) X[i] = X[i+1];`.

```
for (j = 0; j <= 6; j++)
    X[2*j-3] = X[2*j-2];
```

> c) `for (i=50; i>=10; i--) X[i] = 0;`.

```
for (j = 0; j <= 40; j++)
    X[50-j] = 0;
```

### 11.3.2

> Draw or describe the iteration spaces for each of the following loop nests:

> a) The loop nest of Fig. 11.17(a).

/\

> b) The loop nest of Fig. 11.17(b).

//

### 11.3.3

> Write the constraints implied by each of the loop nests of Fig. 11.17 in the form of (11.1). That is, give the values of the vectors $$\mathbf{i}$$ and $$\mathbf{b}$$ and the matrix $$\mathbf{B}$$.

> a)
```
for (i = 1; i < 30; i++)
    for (j = i+2; j< 40-i; j++)
        X[i,j] = 0;
```

$$
\left [
\begin{matrix}
 1 &  0 \\
-1 &  0 \\
-1 &  1 \\
-1 & -1 \\
\end{matrix}
\right ]
\left [
\begin{matrix}
i \\
j \\
\end{matrix}
\right ]
+
\left [
\begin{matrix}
-1 \\
29 \\
-2 \\
39 \\
\end{matrix}
\right ]
\ge
\left [
\begin{matrix}
0 \\
0 \\
0 \\
0 \\
\end{matrix}
\right ]
$$

> b)
```
for (i = 10; i <= 1000; i++)
    for (j = i; j < i+10; j++)
        X[i,j] = 0;
```

$$
\left [
\begin{matrix}
 1 &  0 \\
-1 &  0 \\
-1 &  1 \\
 1 & -1 \\
\end{matrix}
\right ]
\left [
\begin{matrix}
i \\
j \\
\end{matrix}
\right ]
+
\left [
\begin{matrix}
-10 \\
1000 \\
0 \\
9 \\
\end{matrix}
\right ]
\ge
\left [
\begin{matrix}
0 \\
0 \\
0 \\
0 \\
\end{matrix}
\right ]
$$


> c)
```
for (i = 0; i < 100; i++)
    for (j = 0; j < 100+i; j++)
        for (k = i+j; k < 100-i-j; k++)
            X[i,j,k] = 0;
```

$$
\left [
\begin{matrix}
 1 &  0 &  0 \\
-1 &  0 &  0 \\
 0 &  1 &  0 \\
 1 & -1 &  0 \\
-1 & -1 &  1 \\
-1 & -1 & -1 \\
\end{matrix}
\right ]
\left [
\begin{matrix}
i \\
j \\
k \\
\end{matrix}
\right ]
+
\left [
\begin{matrix}
0 \\
99 \\
0 \\
99 \\
0 \\
99 \\
\end{matrix}
\right ]
\ge
\left [
\begin{matrix}
0 \\
0 \\
0 \\
0 \\
0 \\
0 \\
\end{matrix}
\right ]
$$

### 11.3.4

> Reverse each of the loop-nesting orders for the nests of Fig. 11.17.

> a)
```
for (i = 1; i < 30; i++)
    for (j = i+2; j< 40-i; j++)
        X[i,j] = 0;
```

```
for (j = 3; j <= 38; j++)
    for (i = 1; i <= min(29, j-2, 39-j); i++)
        X[i,j] = 0;
```

> b)
```
for (i = 10; i <= 1000; i++)
    for (j = i; j < i+10; j++)
        X[i,j] = 0;
```

```
for (j = 10; j <= 1009; j++)
    for (i = max(10, j-9); i <= min(1000, j); i++)
        X[i,j] = 0;
```

> c)
```
for (i = 0; i < 100; i++)
    for (j = 0; j < 100+i; j++)
        for (k = i+j; k < 100-i-j; k++)
            X[i,j,k] = 0;
```

```
for (k = 0; k <= 99; k++)
    for (j = 0; j <= min(k, 99-k, 198, (99+k)/2, (198-k)/2); j++)
        for (i = max(0, j-99); i <= min(99, k-j, 99-j-k); i++)
            X[i,j,k] = 0;
```

### 11.3.5

> Use the Fourier-Motzkin elimination algorithm to eliminate $$i$$ from each of the sets of constraints obtained in Exercise 11.3.3.

See Exercise 11.3.4.

### 11.3.6

> Use the Fourier-Motzkin elimination algorithm to eliminate $$j$$ from each of the sets of constraints obtained in Exercise 11.3.3.

